% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bwd_random.R
\name{BWDRandom}
\alias{BWDRandom}
\title{Balancing Walk Design with Reversion to Bernoulli Randomization}
\description{
A variant of BWD that reverts to simple Bernoulli randomization if the
imbalance exceeds the threshold.
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{q}}{Target marginal probability of treatment.}

\item{\code{intercept}}{Whether to add an intercept term.}

\item{\code{delta}}{Probability of failure.}

\item{\code{N}}{Total number of points.}

\item{\code{D}}{Dimension of the data.}

\item{\code{value_plus}}{Value added to imbalance when treatment is 1.}

\item{\code{value_minus}}{Value added to imbalance when treatment is 0.}

\item{\code{phi}}{Robustness parameter.}

\item{\code{alpha}}{Normalizing constant (threshold).}

\item{\code{w_i}}{Current imbalance vector.}

\item{\code{iterations}}{Current iteration count.}
}
\if{html}{\out{</div>}}
}
\section{Active bindings}{
\if{html}{\out{<div class="r6-active-bindings">}}
\describe{
\item{\code{definition}}{Dictionary of definition parameters.}

\item{\code{state}}{Dictionary of current state.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-BWDRandom-new}{\code{BWDRandom$new()}}
\item \href{#method-BWDRandom-set_alpha}{\code{BWDRandom$set_alpha()}}
\item \href{#method-BWDRandom-assign_next}{\code{BWDRandom$assign_next()}}
\item \href{#method-BWDRandom-assign_all}{\code{BWDRandom$assign_all()}}
\item \href{#method-BWDRandom-update_state}{\code{BWDRandom$update_state()}}
\item \href{#method-BWDRandom-reset}{\code{BWDRandom$reset()}}
\item \href{#method-BWDRandom-clone}{\code{BWDRandom$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BWDRandom-new"></a>}}
\if{latex}{\out{\hypertarget{method-BWDRandom-new}{}}}
\subsection{Method \code{new()}}{
Initialize the BWDRandom balancer.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BWDRandom$new(N, D, delta = 0.05, q = 0.5, intercept = TRUE, phi = 1)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{N}}{Total number of points.}

\item{\code{D}}{Dimension of the data.}

\item{\code{delta}}{Probability of failure (default 0.05).}

\item{\code{q}}{Target marginal probability of treatment (default 0.5).}

\item{\code{intercept}}{Whether to add an intercept term (default TRUE).}

\item{\code{phi}}{Robustness parameter (default 1).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BWDRandom-set_alpha"></a>}}
\if{latex}{\out{\hypertarget{method-BWDRandom-set_alpha}{}}}
\subsection{Method \code{set_alpha()}}{
Set normalizing constant for remaining N units.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BWDRandom$set_alpha(N)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{N}}{Number of units remaining.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BWDRandom-assign_next"></a>}}
\if{latex}{\out{\hypertarget{method-BWDRandom-assign_next}{}}}
\subsection{Method \code{assign_next()}}{
Assign treatment to the next point.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BWDRandom$assign_next(x)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{x}}{Covariate profile vector.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Treatment assignment (0 or 1).
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BWDRandom-assign_all"></a>}}
\if{latex}{\out{\hypertarget{method-BWDRandom-assign_all}{}}}
\subsection{Method \code{assign_all()}}{
Assign all points in a matrix (offline setting).
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BWDRandom$assign_all(X)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{X}}{Matrix of covariate profiles (N x D).}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Vector of treatment assignments.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BWDRandom-update_state"></a>}}
\if{latex}{\out{\hypertarget{method-BWDRandom-update_state}{}}}
\subsection{Method \code{update_state()}}{
Update the internal state of the balancer.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BWDRandom$update_state(w_i, iterations, alpha = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{w_i}}{Current imbalance vector.}

\item{\code{iterations}}{Current iteration count.}

\item{\code{alpha}}{Optional. The current threshold value.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BWDRandom-reset"></a>}}
\if{latex}{\out{\hypertarget{method-BWDRandom-reset}{}}}
\subsection{Method \code{reset()}}{
Reset the balancer to initial state.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BWDRandom$reset()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-BWDRandom-clone"></a>}}
\if{latex}{\out{\hypertarget{method-BWDRandom-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{BWDRandom$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
