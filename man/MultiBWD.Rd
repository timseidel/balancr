% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/multi_bwd.R
\name{MultiBWD}
\alias{MultiBWD}
\title{Multi-treatment Balancing Walk Design}
\description{
Extends BWD to multiple treatments by constructing a binary tree where
each node balances between the treatment groups on the left and right.
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{N}}{Total number of points.}

\item{\code{D}}{Dimension of the data.}

\item{\code{delta}}{Probability of failure.}

\item{\code{intercept}}{Whether to add an intercept term.}

\item{\code{phi}}{Robustness parameter.}

\item{\code{qs}}{Target marginal probabilities for each treatment.}

\item{\code{classes}}{Vector of class labels.}

\item{\code{K}}{Number of treatment groups minus 1.}

\item{\code{nodes}}{List to store BWD objects or integers (leaves).}

\item{\code{weights}}{List to store weights for tree construction.}
}
\if{html}{\out{</div>}}
}
\section{Active bindings}{
\if{html}{\out{<div class="r6-active-bindings">}}
\describe{
\item{\code{definition}}{Dictionary of definition parameters.}

\item{\code{state}}{Dictionary of current state.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-MultiBWD-new}{\code{MultiBWD$new()}}
\item \href{#method-MultiBWD-build_tree}{\code{MultiBWD$build_tree()}}
\item \href{#method-MultiBWD-assign_next}{\code{MultiBWD$assign_next()}}
\item \href{#method-MultiBWD-assign_all}{\code{MultiBWD$assign_all()}}
\item \href{#method-MultiBWD-update_state}{\code{MultiBWD$update_state()}}
\item \href{#method-MultiBWD-update_path}{\code{MultiBWD$update_path()}}
\item \href{#method-MultiBWD-replay_assignment}{\code{MultiBWD$replay_assignment()}}
\item \href{#method-MultiBWD-get_path_for_assignment}{\code{MultiBWD$get_path_for_assignment()}}
\item \href{#method-MultiBWD-reset}{\code{MultiBWD$reset()}}
\item \href{#method-MultiBWD-clone}{\code{MultiBWD$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-new"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-new}{}}}
\subsection{Method \code{new()}}{
Initialize the MultiBWD balancer.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$new(N, D, delta = 0.05, q = 0.5, intercept = TRUE, phi = 1)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{N}}{Total number of points.}

\item{\code{D}}{Dimension of the data.}

\item{\code{delta}}{Probability of failure (default 0.05).}

\item{\code{q}}{Target marginal probabilities. Can be a scalar (0.5 implied for 2 groups) or vector.}

\item{\code{intercept}}{Whether to add an intercept term (default TRUE).}

\item{\code{phi}}{Robustness parameter (default 1).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-build_tree"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-build_tree}{}}}
\subsection{Method \code{build_tree()}}{
Internal helper to build the tree structure.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$build_tree()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-assign_next"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-assign_next}{}}}
\subsection{Method \code{assign_next()}}{
Assign treatment to the next point.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$assign_next(x)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{x}}{Covariate profile vector.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Treatment assignment (integer index).
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-assign_all"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-assign_all}{}}}
\subsection{Method \code{assign_all()}}{
Assign all points in a matrix (offline setting).
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$assign_all(X)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{X}}{Matrix of covariate profiles (N x D).}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Vector of treatment assignments.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-update_state"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-update_state}{}}}
\subsection{Method \code{update_state()}}{
Update the internal state of the balancer.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$update_state(...)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{...}}{Named arguments mapping node indices to state lists.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-update_path"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-update_path}{}}}
\subsection{Method \code{update_path()}}{
Helper to manually update path for replay logic.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$update_path(x, final_assignment)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{x}}{Covariate vector.}

\item{\code{final_assignment}}{The assigned class integer.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-replay_assignment"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-replay_assignment}{}}}
\subsection{Method \code{replay_assignment()}}{
Replay assignment through the tree.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$replay_assignment(x, final_assignment)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{x}}{Covariate profile vector.}

\item{\code{final_assignment}}{The treatment assignment (integer).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-get_path_for_assignment"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-get_path_for_assignment}{}}}
\subsection{Method \code{get_path_for_assignment()}}{
BFS to find the path to a specific leaf class.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$get_path_for_assignment(target_class)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{target_class}}{Integer class label.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-reset"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-reset}{}}}
\subsection{Method \code{reset()}}{
Reset the balancer to initial state.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$reset()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-MultiBWD-clone"></a>}}
\if{latex}{\out{\hypertarget{method-MultiBWD-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{MultiBWD$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
